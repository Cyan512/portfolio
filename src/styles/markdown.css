@layer components {
    /* Base Typography */
    .prose {
        font-family: var(--font-sans);
        max-width: 100%;

        --tw-prose-body: var(--color-page-foreground, #e5e7eb);
        --tw-prose-headings: var(--color-primary);
        --tw-prose-links: var(--color-primary-500);
        --tw-prose-bold: var(--color-primary-700);
        --tw-prose-code: var(--color-primary-400);
        --tw-prose-pre-bg: color-mix(in oklab, var(--color-primary), black 85%);
    }

    /* Headings */
    .prose h1 {
        @apply text-3xl font-bold tracking-tight mt-0 mb-6 text-primary-500;
    }

    .prose h2 {
        @apply text-2xl font-semibold tracking-tight mt-10 mb-4;
    }

    .prose h3 {
        @apply text-xl font-semibold mt-8 mb-3;
    }

    /* Links */
    .prose a {
        @apply underline underline-offset-4 decoration-primary-500;
    }

    .prose a:hover {
        @apply decoration-primary-300;
    }

    /* Code inline */
    .prose code {
        @apply rounded px-1 py-0.5 text-sm;
        background-color: color-mix(
                in oklab,
                var(--color-primary),
                black 90%
        );
    }

    /* Code block */
    .prose pre {
        @apply rounded-xl p-4 overflow-x-auto;
        background-color: var(--tw-prose-pre-bg);
        border: 1px solid color-mix(
                in oklab,
                var(--color-primary),
                black 70%
        );
    }

    /* Lists */
    .prose ul {
        @apply list-disc pl-6;
    }

    .prose ol {
        @apply list-decimal pl-6;
    }

    /* Blockquote */
    .prose blockquote {
        @apply border-l-4 pl-4 italic;
        border-color: var(--color-primary-500);
    }
}

/* Dark mode tweaks */
.dark .prose {
    --tw-prose-body: #e5e7eb;
    --tw-prose-pre-bg: color-mix(in oklab, var(--color-primary), black 88%);
}
